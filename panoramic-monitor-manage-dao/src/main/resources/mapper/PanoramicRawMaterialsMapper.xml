<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.monitor.mapper.rawmaterials.PanoramicRawMaterialsMapper">
	<resultMap id="baseResultMap"
		type="com.monitor.model.rawmaterials.PanoramicRawMaterials">
		<!-- WARNING - @mbg.generated -->
		<id column="ID" jdbcType="INTEGER" property="id" />
		<result column="name" jdbcType="VARCHAR" property="name" />
		<result column="t_id" jdbcType="VARCHAR" property="tId" />
		<result column="value" jdbcType="VARCHAR" property="value" />
		<result column="net_weight" jdbcType="VARCHAR" property="netWeight" />
		<result column="tare" jdbcType="VARCHAR" property="tare" />
		<result column="code" jdbcType="VARCHAR" property="code" />
		<result column="in_or_out" jdbcType="INTEGER" property="inOrOut" />
		<result column="unit" jdbcType="VARCHAR" property="unit" />
		<result column="delete_flag" jdbcType="INTEGER" property="deleteFlag" />
		<result column="car_num" jdbcType="VARCHAR" property="carNum" />
		<result column="in_time" jdbcType="TIMESTAMP" property="inTime" />
		<result column="out_time" jdbcType="TIMESTAMP" property="outTime" />
		<result column="ctime" jdbcType="TIMESTAMP" property="ctime" />
		<result column="utime" jdbcType="TIMESTAMP" property="utime" />
		<result column="dtime" jdbcType="TIMESTAMP" property="dtime" />
		<result column="operator" jdbcType="VARCHAR" property="operator" />
		<result column="f_id" jdbcType="VARCHAR" property="fId" />
	</resultMap>

	<select id="summaryByCodeAndDate" resultType="java.lang.Double">
		select SUM(value) as value from panoramic_raw_materials
		where code=#{code} and date_format(utime,'%Y%m%d')
		=date_format(#{date},'%Y%m%d')
		and in_or_out=#{type} LIMIT 1
	</select>
</mapper>